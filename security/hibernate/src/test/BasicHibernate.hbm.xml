<?xml version="1.0"?>
  <!DOCTYPE hibernate-mapping PUBLIC
   "-//Hibernate/Hibernate Mapping DTD 2.0//EN" 
   "http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd"> 

  <hibernate-mapping auto-import="true">
  
    <class name="org.apache.fulcrum.security.model.basic.entity.BasicGroup" table="GROUPS" >
      <id name="id" type="long" column="GROUP_ID" unsaved-value="0">
           <generator class="native"/>
        </id>
      <property name="name" column="NAME" type="string"/>      
      
      <set name="usersAsSet" lazy="true" table="HIBUSER_GROUP" cascade="none" >
        <key column="GROUP_ID"/>
        <many-to-many class="org.apache.fulcrum.security.model.basic.entity.BasicUser" column="USER_ID"/> 
      </set>        
    </class>   

    <class name="org.apache.fulcrum.security.model.basic.entity.BasicUser" table="HIBUSER" >
      <id name="id" type="long" column="HIBUSER_ID" unsaved-value="0">
           <generator class="native"/>
        </id>
      <property name="name" column="USERNAME" type="string"/>      
      <property name="password" column="PASSWORD" type="string"/>            
      
      <set name="groupsAsSet" lazy="true" table="HIBUSER_GROUP" inverse="true" cascade="none">
        <key column="USER_ID"/>
        <many-to-many class="org.apache.fulcrum.security.model.basic.entity.BasicGroup" column="GROUP_ID"/> 
      </set>
    </class>    

    
  </hibernate-mapping>